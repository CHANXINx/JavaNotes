## 1. RabbitMQ是怎么做消息分发的？

## 2. RabbitMQ如何防止重复消费？
- 消费者消费成功后会发送确认消息，消息队列接收到之后，就会将消息删除，且不再投递；
- 若确认消息延迟，导致重复投递了，就需要消费者做好**幂等控制**，防止重复消费。

发送消息时**生成唯一标识并放到消息体**中，根据标识判断是否是同一条消息。消费端在接收到消息后，解析获取唯一标识，通过“一锁、二判、三更新”判断是否消费过。

## 3. MQ消费如何保证顺序消费？
[顺序消息 | RocketMQ](https://rocketmq.apache.org/zh/docs/featureBehavior/03fifomessage)

RocketMQ支持局部顺序消息消费。

保证两个顺序性：生产顺序性和消费顺序性

#### 生产顺序性
单一生产者，单线程发送，这样RocketMQ能保证同一Topic的消息会放在同一个队列中

#### 消费顺序性
消费者类型设置为PushConsumer，此时MQ能保证消息按照存储顺序一条一条投递给消费者。

一条消息消费完成后，会发送ACK提交消费结果。若前一条消息暂未消费完，则调用`receive()`接收消息时，是获取不到后续消息的。

## 4. MQ顺序消费如何提升消费性能？
## 5. 如何保证MQ的可靠性？