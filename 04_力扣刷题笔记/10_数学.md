## 50. Pow(x, n)
### 题目
实现 `pow(x, n)` ，即计算 x 的整数 n 次幂函数（即，$x^n$ ）。
### 信息
- **难度：** medium
- **重要性：** #★★★★★
- **标签：** #递归 #数学 #快速幂
### 思路一：
![[Pasted image 20241213094638.png|350]]
![[Pasted image 20241213094128.png|300]]

**具体算法流程：**
1. $n<0$时，则令$x=\frac{1}{x}$，以及$n=-n$，并且注意：输入N可能为$-2^{31}$，因此变为-N后，可能溢出，故需要用long类型进行存储；
2. 将n视为二进制数，移位判断最低位是否为1：
	- 若为1，则与当前幂次的x相差；
	- 若不为1，则跳过；
3. 更新x的幂次、移位n。

```java hl:4
class Solution {
    public double myPow(double x, int N) {
        double ans = 1.0;
        long n = N;
        if (n < 0) {
            x = 1 / x;
            n = -n;
        }
        while (n != 0){
            if ((n & 1) == 1){
                ans *= x;
            }
            // n右移位
            n >>= 1;
            // 更新x的幂次
            x *= x;
        }
        return ans;
    }
}
```
**时间复杂度：** $O(logN)$
**空间复杂度：** $O(1)$