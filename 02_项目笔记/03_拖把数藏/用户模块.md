#### 用户注册
提供用户注册功能，但不支持自定义用户名。

用户传入手机号、验证码和邀请码，然后就可以进行注册。

我们会为用户生成默认昵称和邀请码，如何防重呢？我们是基于布隆过滤器实现的防重，通过while循环持续判断是否存在：
- 布隆过滤器判断不存在，则肯定不存在，我们就会可以进入下一步逻辑。
```java
// 生成非重复随机昵称和邀请码
do {
	randomString = RandomUtil.randomString(6).toUpperCase();
	//前缀 + 6位随机数 + 手机号后四位：「藏家_6位随机数+尾号后四位」
	defaultNickName = DEFAULT_NICK_NAME_PREFIX + randomString + telephone.substring(7, 11);
} while (nickNameExist(defaultNickName) || inviteCodeExist(randomString));
```

生成邀请码和用户名后，就可以将新生成的昵称和邀请码放置到布隆过滤器中，同时为用户新增积分。

操作完毕后，会插入一条用户注册的流水。

>注册时针对用户手机号加了锁，避免用户重复注册。
>加积分时针对邀请码加锁，避免积分增加出现并发问题。
#### 修改用户信息
注意密码的更新，在经过前面的使用md5散列计算比较旧密码是否相同后，就可以进行密码的更新。
密码的更新其实就是将密码使用md5散列算法计算后，再覆盖原有的密码即可。

md5散列其实不是加密算法，是一种散列算法，但是计算过程中会丢失部分位信息，所以实质上是不可逆的。

假设更新了用户昵称，最后还会将昵称也加入到布隆过滤器中。
#### 排行榜功能
用户登录后，会分配邀请码给用户（随机6位大写字符）。

用户注册时，会获取邀请码对应的用户，然后加锁，实现加积分操作。同时，还会更新用户的最近一次上榜时间。

上榜时间的更新，是获取当前时间戳（13位），除以13位后获得小数。因为我们的业务是让早上榜的用户排名更高，因此我们是通过`1-小数`再拼接到积分后面实现。

获取我的排名：
- 积分排行榜是通过ZSET实现的，KEY是用户邀请码，VALUE是用户积分。
- 通过revRank实现降序排列并返回我的排名。

获取TopN排名：
- 通过ZRevRange获取倒序排名的前N个。

获取我邀请的用户：
- 因为用户表中存储了用户的邀请人的userId，因此可以通过查表直接获取“我”邀请的用户。

#### 用户实名
调用外部API，发送POST请求：
- Header中放置：`Authroization:APIKEY`；
- 请求体中放置用户的身份证号和姓名。

数据库中也会存储姓名和身份证号，使用AES加密。

