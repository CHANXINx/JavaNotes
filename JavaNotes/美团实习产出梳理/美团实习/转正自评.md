留用自评  
1、项目/工作及结果（建议2,000字以内）  
需求开发：
1. 预排线优化：  
    a) 背景：算法侧的T-1货量预估能力升级，提供了新的接口。研发侧可以根据新算法接口查询出更准确的预估货量，有助于T-1自动预排线能力及约车能力优化。  
    b) 目标：协助算法测侧提升T-1货量预估准确率。  
    c) 行动：考虑到稳定性，设计并实施了灰度开发策略，先为部分仓库开放新接口进行小规模测试，全面评估新接口的稳定性及货量预估能力。通过渐进式部署方案能够有效控制新接口可能产生的负面影响范围，同时确保在发现问题时可以快速降级回退至原接口，保障了业务连续性和系统稳定性。  
    d) 结果：协助算法侧提升T-1货量预估准确率从88%提升至91%。同时，在后续算法侧新接口出现问题时，快速降级切换回原接口，避免对当天货量预估结果造成过大影响。
2. 运单波次在途变更：【技术方案的思考、上下游协同拉齐】  
    a) 背景：在途售卖项目，库存侧需要感知运单波次变化，以通过送达时间来调整在途售卖项目的售卖数量。当前由于波次变更未同步，导致出现多次case。  
    b) 目标：实现正向运单波次变更及时告知库存侧。  
    c) 行动：主R进行技术方案设计，在导师的帮助结合开发成本等角度评估不同方案优劣并敲定最终方案。考虑到水产与非水产运单流程的差异，在运单波次变更时将水产与非水产运单以不同方式同步给DCC侧，以达成波次变更告知。  
    d) 结果：通过将运单的波次变更及时告知库存侧，保证了在途售卖的库存及时调整，避免了相应case的再次发生。
3. 在途时长数据系统化：  
    【多维数据统计、大数据统计（从全国维度拆分到运输组维度、拆分、）、】  
    a) 背景：定点到站排线需要使用在途时长数据，目前仍需要研发手动写SQL、构造Excel来实现在途数据应用到排线上。  
    b) 目标：搭建多维在途时长数据的统计、应用的整体链路。  
    c) 行动：【通过什么什么，解决了什么问题】  
    根据排线所需相关在途时长信息，建表持久化在途时长数据。构建定时任务，每日统计过去一段时间内的在途时长信息并落库。同时，提供时间段配置与运输组配置，保证能灵活调整统计时间以及后续定点到站灰度更多仓时能快速配置。  
    d) 结果：实现每日定时统计杭州运输组的在途平均时长，同时定点到站排线功能读取表中数据，实现了在途时长数据统计与应用的完全线上化，有助于定点到站准点率的达成，同时提高了研发效率。
4. 标准到站时间透传司机侧：  
    【倒排期、高压、快速协调资源，需求评审中的评估需求合理性，实现难度的合理性，改动成本】  
    a) 背景：为了促进定点到站准点率的达成，需要对司机的到站时间进行软约束，因来提示司机标准到站时间,。  
    b) 目标：实现标准到站时间的多维度配置化，并透传司机侧。  
    c) 开发：提供Excel导入模板，产品进行配置后，研发可通过上传链接来实现多维度标准到站时间导入。  
    d) 结果：
5. 在途时长数据统计慢SQL治理：  
    a) 背景：在途时长统计由于时间跨度较长、数据量过大，会导致分页查询时会出现深分页问题，出现慢SQL。  
    b) 目标：治理慢SQL问题。  
    c) 行动：结合执行计划分析慢SQL，利用游标分页的优化策略实现深分页优化。  
    d) 结果：相应慢SQL由日均36个降至0个，优化在途时长数据统计效率。
6. 定点到站排线数据明细开发：  
    【学习公司组件的使用、API版本控制、上线过程的兼容性考虑】  
    a) 背景：当前定点到站项目在杭州生鲜仓试点，W24到站准点率53%和ETA准确率49%均不达标，业务期望产出数据明细，分析不准点case和ETA不准case。  
    b) 目标：（个人）  
    c) 行动：协助韩旭同学进行部分自动排线结果的查询接口开发以及定点到站排线监控数据的魔数看板的制作。  
    d) 结果：  
    i. （个人）①中途介入支持，保证了项目准时上线；②学习并搭建定点到站排线监控数据的魔数看板开发，便于业务根据明细数据分析不准点原因。  
    ii. （项目）促进定点到站目标达成。
7. 【进行中】业务配置迁移海马平台：  
    a) 背景：目前新开城配置需要研发手动进行配置，占用研发较多时间。  
    b) 目标：一期实现TOS业务配置迁移海马平台；二期考虑将功能集成至Common包中，供各系统接入，并实现TSC和TMAPI的新开城阻塞配置迁移。  
    c) 行动：目前已实现海马SDK接入TOS服务，并参考Lion的注解式获取配置值及监听变更实现热更新功能，实现注解式获取海马平台相应配置值及监听变更。同时，开发脚本实现Lion配置到海马配置的快速迁移。  
    工单问题治理：
8. SDK升级：结合公司要求，进行部分组件SDK升级，避免造成发布卡控。
    

技术负债治理：
1. 解封车时未上传照片导致NPE：当司机进行解封车时，若未上传照片，可能导致解封车逻辑出现NPE异常。修复过程中发现，实质上这个传值是不能为空的。不过，后端基于此还是做了健壮性校验，避免后续可能的NPE异常。
2. 批量导入排线时的文件名过长导致插入错误：用户进行批量导入排线时，会上传文件，同时会基于文件名+S3Plus对应Bucket前缀生成一个上传链接。由于未对文件名长度进行校验，就会导致上传链接过长，超过255个字符，导致插入数据库时出现错误。进行校验后，避免了后续的插入错误。
3. 解封车时的照片上传链接过长导致插入错误：也是由于生成的下载链接过长导致插入数据库出现异常，影响解封车流程。在这里添加前置校验，避免照片下载链接过长导致插入错误，阻塞解封车流程。
4. 客户查询运输地优化：客户查询特定门店状态时，未查询到对应门店导致异常，大象群内报警。该问题研发无需感知，是由于仓尚未配置对应门店导致，后续修改了报错类型，避免了大象群的频繁报警。
5. 导入班次下载模板问题修复：下载班次模板时，若根据仓库查询门店信息时，若映射关系为空，则会导致获取不到仓库名，从而导致设置文件名时出错。因此，对映射关系做了个判空校验，避免映射关系为空时导致的下载模板异常。
6. 查询线路优化：经用户反馈，用户查询线路时，通过单选选择全部班次，会查询所有配次的线路；若选择“全部”，则会默认只查一配线路，不符合预期。因此，后续进行修复，保证了选择“全部”与“单选选择全部班次”均能返回相同正确的全部配次线路。
